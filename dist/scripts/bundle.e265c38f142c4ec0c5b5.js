!function(a){var n={};function r(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=a,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,a){"use strict";a.r(e);a(1);function n(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var r,o,l,c,i,u={addTask:function(t){var e=[];null===localStorage.getItem("tasks")?e.push(t):(e=JSON.parse(localStorage.getItem("tasks"))).push(t),localStorage.setItem("tasks",JSON.stringify(e))},getTaks:function(){return null===localStorage.getItem("tasks")?[]:JSON.parse(localStorage.getItem("tasks"))},updateTask:function(e){var a=JSON.parse(localStorage.getItem("tasks"));a.map(function(t){if(t.id!==e.id)return t;a.title=e.title,t.completed=e.completed}),localStorage.setItem("tasks",JSON.stringify(a))},deleteTask:function(t){var e=JSON.parse(localStorage.getItem("tasks"));e=t,localStorage.setItem("tasks",JSON.stringify(e))}},d=(r={task:u.getTaks(),currentTask:null},{getTask:function(){return r.task},getTotalTaskCount:function(){return r.task.length},getCompletedTaskCount:function(){return r.task.reduce(function(t,e){return!0===e.completed?++t:t},0)},getCurrateTask:function(){return r.currentTask},deleteTask:function(e){var t=r.task.filter(function(t){return t.id!==e.id});return r.task=t},updateDataToStorage:function(e){var a=null;return r.task=r.task.map(function(t){return t.id===r.currentTask.id?(t.title=e,a=t):t}),a},setCurrentTask:function(t){r.currentTask=t},getTaskbyId:function(e){return r.task.find(function(t){return t.id===e})},addTask:function(t){var e={id:0<r.task.length?r.task[r.task.length-1].id+1:0,title:t,completed:!1},a=function(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(o,!0).forEach(function(t){var e,a,n;e=r,n=o[a=t],a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):s(o).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}({},r,{task:[].concat(n(r.task),[e])});return r=a,e},complateTask:function(e){var t=r.task.map(function(t){return t.id===e&&(t.completed=!t.completed),t});r.task=t}}),k=(o={taskTitle:".task-title",taskContainer:".task-container",taskItem:".task-item",editeTask:".editTask",complateTask:"#complated-task",addTask:"#addTask",updateTask:"#updateTask",backBtn:"#backBtn",deleteTask:"#deleteTask",totalTask:".total-task",totalCompletedTask:".completed-tast"},{clearField:function(){document.querySelector(o.taskTitle).value=""},showMsg:function(t,e){var a=document.createElement("div");a.className="alert alert-".concat(e),a.textContent=t;var n=document.querySelector(".container"),r=document.querySelector("#h1");n.insertBefore(a,r),setTimeout(function(){document.querySelector(".alert").remove()},2e3)},populateTasks:function(t){var e=t.id,a=t.title,n="";n+='\n        <div class="task-item" id="task-'.concat(e,'">\n        <div class="row">\n        <div class="col col-sm-6">\n            <h5>').concat(a,'</h5>   \n          </div>   \n          <div class="col col-sm-6 mt-3">    \n            <a href="#" class="d-block" id="edit-task" style="float:right; "> <i class="fas fa-pencil-alt " id="edit-task"></i></a>\n            <a href="#" style="float:right; margin-right:12px;"><i class="fas fa-check complete-task "  id="complated-task"></i></a>    \n          </div \n        </div>\n      </div>\n    </div>'),document.querySelector(o.taskContainer).style.display="block",document.querySelector(o.taskContainer).insertAdjacentHTML("beforeend",n)},getSelectores:function(){return o},showCompletedTask:function(t){document.querySelector(".completed-tast").textContent=t},showTotalTaskCount:function(t){document.querySelector(".total-task").textContent=t},populateForm:function(t){document.querySelector(o.taskTitle).value=t,k.showEditState()},showEditState:function(){document.querySelector(o.addTask).style.display="none",document.querySelector(o.deleteTask).style.display="inline-block",document.querySelector(o.updateTask).style.display="inline-block",document.querySelector(o.backBtn).style.display="inline-block"},clearEditState:function(){document.querySelector(o.addTask).style.display="block",document.querySelector(o.deleteTask).style.display="none",document.querySelector(o.updateTask).style.display="none",document.querySelector(o.backBtn).style.display="none"},getTitleInput:function(){return document.querySelector(o.taskTitle).value},populateTask:function(t){if(0===t.length)document.querySelector(o.taskContainer).style.display="none";else{var r="";t.forEach(function(t){var e=t.id,a=t.title,n=t.completed;r+='<div class="task-item" id="task-'.concat(e,'">\n              <div class="row">\n              <div class="col col-sm-6">\n                  <h5 class=').concat(!0===n?"completed-task":"",">").concat(a,'</h5>           \n                </div>   \n                <div class="col col-sm-6 mt-3">    \n                  <a href="#" class="d-block"  style="float:right; "> <i class="fas fa-pencil-alt" id="edit-task" ></i></a>\n                  <a href="#" style="float:right; margin-right:12px;"><i class="fas fa-check " id="complated-task"></i></a>    \n                </div \n              </div>\n            </div>\n          </div>\n        </div>')}),document.querySelector(o.taskContainer).innerHTML=r}}});function p(t){if("edit-task"===t.target.id){var e=Number(t.target.parentElement.parentElement.parentElement.parentElement.id.split("-")[1]),a=d.getTaskbyId(e);d.setCurrentTask(a),k.populateForm(a.title)}}function f(t){t.preventDefault;var e=c.getTitleInput(),a=d.updateDataToStorage(e);i.updateTask(a),c.clearField(),k.clearEditState();var n=d.getTask();c.populateTask(n),c.showMsg("your task has been updated","success")}function m(t){t.preventDefault();var e=d.getCurrateTask(),a=d.deleteTask(e);i.deleteTask(a);var n=d.getTotalTaskCount();c.showTotalTaskCount(n);var r=d.getCompletedTaskCount();c.showCompletedTask(r);var o=d.getTask();c.populateTask(o),c.clearField(),c.clearEditState(),c.showMsg("your task has been deleted","danger")}function T(t){if("complated-task"===t.target.id){var e=Number(t.target.parentElement.parentElement.parentElement.parentElement.id.split("-")[1]);l.complateTask(e);var a=d.getTaskbyId(e);i.updateTask(a);var n=d.getCompletedTaskCount();console.log(n),c.showCompletedTask(n);var r=l.getTask();c.populateTask(r)}}function y(t){t.preventDefault();var e=c.getTitleInput();if(""===e.trim())c.showMsg("plz enter a task","danger");else{var a=d.addTask(e);i.addTask(a),c.clearField(),c.populateTasks(a);var n=d.getTotalTaskCount();c.showTotalTaskCount(n)}}function g(t){t.preventDefault(),document.querySelector("#backBtn")&&(k.clearEditState(),c.clearField())}(l=d,c=k,i=u,{init:function(){var t=l.getTask();k.populateTask(t);var e=d.getTotalTaskCount();c.showTotalTaskCount(e);var a=d.getCompletedTaskCount();c.showCompletedTask(a),k.clearEditState(),function(){var t=k.getSelectores();document.querySelector(t.addTask).addEventListener("click",y),document.querySelector(t.updateTask).addEventListener("click",f),document.querySelector(t.deleteTask).addEventListener("click",m),document.querySelector(t.backBtn).addEventListener("click",g),document.querySelector(t.taskContainer).addEventListener("click",p),document.querySelector(t.taskContainer).addEventListener("click",T)}()}}).init()},function(t,e,a){}]);